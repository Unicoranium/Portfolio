<!DOCTYPE html>
<html>
	<head>
		<style>
			canvas,
			body {
				padding: 0;
				margin: 0;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas"></canvas>
		<script>
			canvas.width = innerWidth;
			canvas.height = innerHeight - 4;
			let frame = 0;
			let loop = true;
			let pos = [(canvas.width * 4) / 4, (canvas.height * 4) / 4];
			let dir = (-Math.PI * 1) / 6;
			function tick() {
				for (let i = 0; i < 10000; i++) {
					let a = ((a) => (a.indexOf('1') == -1 ? 0 : a.lastIndexOf('1') - a.indexOf('1') + 1) % 2 == 0)(frame.toString(2).split('').sort());
					ctx.beginPath();
					ctx.moveTo(...pos);
					if (a) {
						pos[0] += Math.cos(dir) / 100;
						pos[1] += Math.sin(dir) / 100;
					} else {
						dir += Math.PI / 3;
					}
					ctx.lineTo(...pos);
					ctx.stroke();
					frame++;
				}
				if (loop) requestAnimationFrame(tick);
			}
			let ctx = canvas.getContext('2d');
			tick();
		</script>
	</body>
</html>
